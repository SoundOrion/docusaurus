/* ========== Global ========== */
@import "~katex/dist/katex.min.css";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+JP:wght@100;300;400;500;700;900&display=swap');

:root {
  --ifm-font-family-base: 'Inter','Noto Sans JP',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  --ifm-heading-font-family: 'Inter','Noto Sans JP',sans-serif;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0,0,0,.1);

  /* Brand (light) */
  --ifm-color-primary: #004831;
  --ifm-color-primary-dark: #003e2b;
  --ifm-color-primary-darker: #003524;
  --ifm-color-primary-darkest: #00281b;
  --ifm-color-primary-light: #0b5a40;
  --ifm-color-primary-lighter: #1a6b51;
  --ifm-color-primary-lightest: #338066;

  /* Arg tokens */
  --arg-radius: 14px;
  --arg-shadow: 0 6px 20px rgba(0,0,0,.06);
  --arg-shadow-hover: 0 10px 28px rgba(0,0,0,.09);
  --arg-border: var(--ifm-color-emphasis-200);
  --arg-border-strong: var(--ifm-color-emphasis-300);
  --arg-muted: var(--ifm-color-emphasis-600);
  --arg-bg-soft: var(--ifm-card-background-color);
  /* --arg-accent: linear-gradient(90deg,#7c3aed,#22d3ee,#10b981); */
  --arg-code-bg: #f6f8fa;
}

/* Dark theme */
[data-theme='dark']{
  --ifm-color-primary: #0c7a6f;
  --ifm-color-primary-dark: #09645a;
  --ifm-color-primary-darker: #074f47;
  --ifm-color-primary-darkest: #053a34;
  --ifm-color-primary-light: #119183;
  --ifm-color-primary-lighter: #26a89b;
  --ifm-color-primary-lightest: #45bcb0;
  --docusaurus-highlighted-code-line-bg: rgba(0,0,0,.3);
  --arg-code-bg: #282A36; /* 使用例コードの背景（紺トーン） */
}

/* ========== Layout helpers ========== */
.arg-grid{
  display:grid;
  gap:.5rem;
  grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
}
.arg-grid .arg-card{ margin-block:0; }
.arg-preline{ white-space: pre-line; }

/* ========== Arg Card ========== */
.arg-card{ border-radius: var(--arg-radius); overflow:hidden; margin-block:.4rem; }
.arg-card.fancy{
  position:relative;
  background:var(--arg-bg-soft);
  border:1px solid var(--arg-border);
  box-shadow:none;                /* フラット */
  transform:none;
  transition: border-color .18s ease;
}
.arg-card.fancy:hover{
  box-shadow:none;                /* ホバーでも変化させない */
  transform:none;
  border-color: var(--arg-border);
}

/* 上辺アクセントライン（変数未定義なら表示されません） */
.arg-card.fancy::before{
  content:"";
  position:absolute; inset:0 0 auto 0; height:2px;
  background: var(--arg-accent);
  opacity:.6;
}

.arg-header{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.arg-title{ display:flex; align-items:center; gap:.6rem; margin:0; }
.arg-title code{
  font-size:1.05rem; padding:.1rem .35rem; border-radius:8px;
  background:var(--ifm-color-emphasis-100); border:1px solid var(--arg-border);
}

/* ラベル行 */
.arg-row{
  margin-top:.6rem;
  display:grid;
  grid-template-columns:7.5rem 1fr;
  gap:.6rem;
}
.arg-row > strong{ color: var(--arg-muted); font-weight:700; letter-spacing:.01em; }

.arg-tags{ display:flex; flex-wrap:wrap; gap:.35rem; margin:.35rem 0 .1rem; }
.arg-tags .badge{ border-radius:999px; }

/* ========== Usage line (input-like) ========== */
.arg-usage{
  display:grid; grid-template-columns:7.5rem 1fr; align-items:start; margin-top:.6rem;
}
.arg-usage__content{ display:grid; gap:.45rem; }

/* コード＋コピーの行 */
.arg-codefield{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:.8rem;
}
.arg-codefield__code{
  display:block; min-width:0;
  padding:.45rem .7rem;
  border:1px solid var(--arg-border);
  border-radius:10px;
  background: var(--arg-code-bg);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  font-size:.95em;
  box-shadow:none;                /* フラット */
}
/* 折り返し表示にしたい場合は下を有効化
.arg-codefield__code{ white-space: pre-wrap; word-break: break-word; overflow: visible; }
*/

/* ホバーしても枠色を変えない（Light/Dark） */
.arg-codefield:hover .arg-codefield__code { border-color: var(--arg-border); }
[data-theme='dark'] .arg-codefield:hover .arg-codefield__code {
  border-color: color-mix(in oklab, var(--arg-code-bg) 85%, white 15%);
}

/* ========== Icon button (Copy) ========== */
.icon-btn{
  width:32px; height:32px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:10px;
  border:1px solid var(--arg-border);
  background: var(--ifm-background-surface-color,var(--ifm-background-color));
  color: var(--ifm-color-emphasis-700);
  box-shadow:none;                /* フラット */
  transition: transform .12s ease, background .18s ease, border-color .18s ease, color .18s ease;
}
.icon-btn:hover{ transform: translateY(0) scale(1.02); }
.icon-btn:active{ transform: translateY(0); }
.icon-btn .arg-icon{ width:16px; height:16px; }
.icon-btn:focus-visible{ outline:2px solid var(--ifm-color-primary); outline-offset:2px; }
.icon-btn[data-copied="true"]{
  background: color-mix(in oklab, var(--ifm-color-success) 92%, white 8%);
  border-color: var(--ifm-color-success);
  color: var(--ifm-color-emphasis-0);
}

/* ========== Responsive tweak ========== */
@media (max-width:640px){
  .arg-row,.arg-usage{ grid-template-columns:6rem 1fr; }
  .arg-codefield{ gap:.6rem; }
}

/* ========== Collapsible ========== */
.arg-collapsible{
  display:grid;
  grid-template-rows: 1fr;
  transition: grid-template-rows .22s ease, opacity .22s ease;
}
.arg-collapsible[data-open="false"]{ grid-template-rows: 0fr; }
.arg-collapsible > .arg-content{ overflow:hidden; }
.arg-collapsible[data-open="false"] > .arg-content{ opacity:0; }
.arg-toggle .arg-icon{ transition: transform .18s ease; }
.arg-toggle[aria-expanded="false"] .arg-icon{ transform: rotate(-90deg); }

/* ========== Dark-specific fine tune ========== */
[data-theme='dark'] .arg-codefield__code{
  border-color: color-mix(in oklab, var(--arg-code-bg) 85%, white 15%);
}


/* ===== パステル/ネオンの色を変数化（最初の配色のまま） ===== */
:root{
  --bgA: rgba(144,238,144,0.22);
  --bgA2: rgba(173,216,230,0.18);
  --bgB: rgba(255,182,193,0.25);
  --bgB2: rgba(255,228,196,0.15);
  --bgC: rgba(221,160,221,0.18);

  --gradA: radial-gradient(60% 60% at 15% 20%, var(--bgA), var(--bgA2), transparent 70%);
  --gradB: radial-gradient(70% 70% at 85% 30%, var(--bgB), var(--bgB2), transparent 70%);
  --gradC: radial-gradient(50% 50% at 50% 90%, var(--bgC), transparent 70%);
}
[data-theme='dark']{
  --bgA: rgba(0,255,180,0.32);
  --bgA2: rgba(0,180,255,0.22);
  --bgB: rgba(255,0,200,0.28);
  --bgB2: rgba(255,120,80,0.2);
  --bgC: rgba(138,43,226,0.25);

  --gradA: radial-gradient(50% 50% at 15% 20%, var(--bgA), var(--bgA2), transparent 70%);
  --gradB: radial-gradient(60% 60% at 85% 30%, var(--bgB), var(--bgB2), transparent 70%);
  --gradC: radial-gradient(50% 50% at 50% 90%, var(--bgC), transparent 70%);
}

/* 背景は main 内だけ（ヘッダー・フッターは透過させない） */
.homePageBgWrapper {
  position: relative;
  z-index: 0;
  overflow: hidden; /* 背景がはみ出さないように */
}

.homePageBgWrapper::before {
  content: '';
  position: absolute;
  inset: -10% -20%;
  z-index: 0; /* 背景を最背面に */
  pointer-events: none;

  background: var(--gradA), var(--gradB), var(--gradC);
  background-repeat: no-repeat;
  background-size: cover;
}

[data-theme='dark'] .homePageBgWrapper::before {
  background: var(--gradA), var(--gradB), var(--gradC);
  filter: blur(24px);
}

/* 中身は背景の上に重ねる */
.homePageBgWrapper > * {
  position: relative;
  z-index: 1;
}

/* 開いている時は overflow を可視化（閉じている時だけ隠す） */
.arg-collapsible > .arg-content { overflow: visible; }
.arg-collapsible[data-open="false"] > .arg-content { overflow: hidden; }

/* Grid 2列目（説明カラム）は縮められるようにしてはみ出しを防止 */
.arg-row > :nth-child(2) { min-width: 0; }

/* 説明内のコードブロックは横スクロール可＆親幅に収める */
.arg-preline pre {
  max-width: 100%;
  overflow-x: auto;
}

/* モバイルでの横スクロールをスムーズに */
.arg-preline pre{
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;
  margin: .5rem 0;           /* カード内で詰めすぎない */
  border-radius: 8px;        /* 周囲の角丸と揃える（任意） */
}

/* 長い inline code だけは自然に折り返す（任意） */
.arg-preline p code{
  white-space: break-spaces;
  word-break: break-word;
}

/* ---- Print-only tuning for Docusaurus ---- */
@media print {
  /* ===== レイアウト調整 ===== */
  /* サイドバー / TOC / ナビゲーションを非表示 */
  .theme-doc-sidebar-container,
  .theme-doc-toc-desktop,
  .theme-doc-toc-mobile,
  .table-of-contents,
  .navbar,
  .theme-doc-breadcrumbs,
  .footer {
    display: none !important;
  }

  /* 本文を横幅いっぱいに */
  .container,
  .main-wrapper,
  .row,
  .col,
  .theme-doc-markdown,
  .theme-doc-markdown.markdown {
    max-width: none !important;
    width: 100% !important;
    flex: 1 1 auto !important;
  }

  /* sticky/overflowが印刷で崩すのを防ぐ */
  [style*="position: sticky"],
  .theme-doc-sidebar-container,
  .theme-doc-toc-desktop {
    position: static !important;
    overflow: visible !important;
  }

  /* 改ページ制御 */
  h1, h2, h3 { break-after: avoid; }
  table, pre, blockquote { break-inside: avoid; }

  /* ===== ライトモード強制 ===== */
  html[data-theme="dark"] {
    color-scheme: light;
  }
  html[data-theme="dark"],
  html[data-theme="dark"] body {
    background: #fff !important;
    color: #000 !important;
  }
  html[data-theme="dark"] .navbar,
  html[data-theme="dark"] .footer,
  html[data-theme="dark"] .menu,
  html[data-theme="dark"] pre,
  html[data-theme="dark"] code {
    background: #fff !important;
    color: #000 !important;
  }

  /* ===== 用紙設定 ===== */
  @page { size: A4; margin: 12mm; }

  /* フォント：社内ネットワークでも安心な安全フォント */
  body {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto,
                 "Noto Sans", "Hiragino Kaku Gothic ProN", "Yu Gothic",
                 sans-serif;
  }
}
