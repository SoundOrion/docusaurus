/* ========== Global ========== */
@import "~katex/dist/katex.min.css";
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&family=Noto+Sans+JP:wght@100;300;400;500;700;900&display=swap');

:root {
  --ifm-font-family-base: 'Inter','Noto Sans JP',system-ui,-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  --ifm-heading-font-family: 'Inter','Noto Sans JP',sans-serif;
  --ifm-code-font-size: 95%;
  --docusaurus-highlighted-code-line-bg: rgba(0,0,0,.1);

  /* Brand (light) */
  --ifm-color-primary: #004831;
  --ifm-color-primary-dark: #003e2b;
  --ifm-color-primary-darker: #003524;
  --ifm-color-primary-darkest: #00281b;
  --ifm-color-primary-light: #0b5a40;
  --ifm-color-primary-lighter: #1a6b51;
  --ifm-color-primary-lightest: #338066;

  /* Arg tokens */
  --arg-radius: 14px;
  --arg-shadow: 0 6px 20px rgba(0,0,0,.06);
  --arg-shadow-hover: 0 10px 28px rgba(0,0,0,.09);
  --arg-border: var(--ifm-color-emphasis-200);
  --arg-border-strong: var(--ifm-color-emphasis-300);
  --arg-muted: var(--ifm-color-emphasis-600);
  --arg-bg-soft: var(--ifm-card-background-color);
  /* --arg-accent: linear-gradient(90deg,#7c3aed,#22d3ee,#10b981); */
  --arg-code-bg: #f6f8fa;
}

/* Dark theme */
[data-theme='dark']{
  --ifm-color-primary: #0c7a6f;
  --ifm-color-primary-dark: #09645a;
  --ifm-color-primary-darker: #074f47;
  --ifm-color-primary-darkest: #053a34;
  --ifm-color-primary-light: #119183;
  --ifm-color-primary-lighter: #26a89b;
  --ifm-color-primary-lightest: #45bcb0;
  --docusaurus-highlighted-code-line-bg: rgba(0,0,0,.3);
  --arg-code-bg: #282A36; /* 使用例コードの背景（紺トーン） */
}

/* ========== Layout helpers ========== */
.arg-grid{
  display:grid;
  gap:.5rem;
  grid-template-columns: repeat(auto-fit,minmax(280px,1fr));
}
.arg-grid .arg-card{ margin-block:0; }
.arg-preline{ white-space: pre-line; }

/* ========== Arg Card ========== */
.arg-card{ border-radius: var(--arg-radius); overflow:hidden; margin-block:.4rem; }
.arg-card.fancy{
  position:relative;
  background:var(--arg-bg-soft);
  border:1px solid var(--arg-border);
  box-shadow:none;                /* フラット */
  transform:none;
  transition: border-color .18s ease;
}
.arg-card.fancy:hover{
  box-shadow:none;                /* ホバーでも変化させない */
  transform:none;
  border-color: var(--arg-border);
}

/* 上辺アクセントライン（変数未定義なら表示されません） */
.arg-card.fancy::before{
  content:"";
  position:absolute; inset:0 0 auto 0; height:2px;
  background: var(--arg-accent);
  opacity:.6;
}

.arg-header{ display:flex; align-items:center; justify-content:space-between; gap:.75rem; }
.arg-title{ display:flex; align-items:center; gap:.6rem; margin:0; }
.arg-title code{
  font-size:1.05rem; padding:.1rem .35rem; border-radius:8px;
  background:var(--ifm-color-emphasis-100); border:1px solid var(--arg-border);
}

/* ラベル行 */
.arg-row{
  margin-top:.6rem;
  display:grid;
  grid-template-columns:7.5rem 1fr;
  gap:.6rem;
}
.arg-row > strong{ color: var(--arg-muted); font-weight:700; letter-spacing:.01em; }

.arg-tags{ display:flex; flex-wrap:wrap; gap:.35rem; margin:.35rem 0 .1rem; }
.arg-tags .badge{ border-radius:999px; }

/* ========== Usage line (input-like) ========== */
.arg-usage{
  display:grid; grid-template-columns:7.5rem 1fr; align-items:start; margin-top:.6rem;
}
.arg-usage__content{ display:grid; gap:.45rem; }

/* コード＋コピーの行 */
.arg-codefield{
  display:grid;
  grid-template-columns: 1fr auto;
  align-items:center;
  gap:.8rem;
}
.arg-codefield__code{
  display:block; min-width:0;
  padding:.45rem .7rem;
  border:1px solid var(--arg-border);
  border-radius:10px;
  background: var(--arg-code-bg);
  white-space:nowrap; overflow:hidden; text-overflow:ellipsis;
  font-size:.95em;
  box-shadow:none;                /* フラット */
}
/* 折り返し表示にしたい場合は下を有効化
.arg-codefield__code{ white-space: pre-wrap; word-break: break-word; overflow: visible; }
*/

/* ホバーしても枠色を変えない（Light/Dark） */
.arg-codefield:hover .arg-codefield__code { border-color: var(--arg-border); }
[data-theme='dark'] .arg-codefield:hover .arg-codefield__code {
  border-color: color-mix(in oklab, var(--arg-code-bg) 85%, white 15%);
}

/* ========== Icon button (Copy) ========== */
.icon-btn{
  width:32px; height:32px;
  display:inline-flex; align-items:center; justify-content:center;
  border-radius:10px;
  border:1px solid var(--arg-border);
  background: var(--ifm-background-surface-color,var(--ifm-background-color));
  color: var(--ifm-color-emphasis-700);
  box-shadow:none;                /* フラット */
  transition: transform .12s ease, background .18s ease, border-color .18s ease, color .18s ease;
}
.icon-btn:hover{ transform: translateY(0) scale(1.02); }
.icon-btn:active{ transform: translateY(0); }
.icon-btn .arg-icon{ width:16px; height:16px; }
.icon-btn:focus-visible{ outline:2px solid var(--ifm-color-primary); outline-offset:2px; }
.icon-btn[data-copied="true"]{
  background: color-mix(in oklab, var(--ifm-color-success) 92%, white 8%);
  border-color: var(--ifm-color-success);
  color: var(--ifm-color-emphasis-0);
}

/* ========== Responsive tweak ========== */
@media (max-width:640px){
  .arg-row,.arg-usage{ grid-template-columns:6rem 1fr; }
  .arg-codefield{ gap:.6rem; }
}

/* ========== Collapsible ========== */
.arg-collapsible{
  display:grid;
  grid-template-rows: 1fr;
  transition: grid-template-rows .22s ease, opacity .22s ease;
}
.arg-collapsible[data-open="false"]{ grid-template-rows: 0fr; }
.arg-collapsible > .arg-content{ overflow:hidden; }
.arg-collapsible[data-open="false"] > .arg-content{ opacity:0; }
.arg-toggle .arg-icon{ transition: transform .18s ease; }
.arg-toggle[aria-expanded="false"] .arg-icon{ transform: rotate(-90deg); }

/* ========== Dark-specific fine tune ========== */
[data-theme='dark'] .arg-codefield__code{
  border-color: color-mix(in oklab, var(--arg-code-bg) 85%, white 15%);
}
